{"ast":null,"code":"import axios from \"axios\";\nconst API = `${process.env.REACT_APP_API_URL}/users`;\nexport const fetchFeed = () => async (dispatch, getState) => {\n  dispatch({\n    type: \"USERS_LOADING\"\n  });\n  const token = getState().auth.token;\n  const res = await axios.get(API, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  dispatch({\n    type: \"SET_FEED\",\n    payload: res.data\n  });\n};\nexport const likeUser = id => async (dispatch, getState) => {\n  const token = getState().auth.token;\n  const res = await axios.post(`${API}/${id}/like`, {}, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  dispatch({\n    type: \"REMOVE_USER\",\n    payload: id\n  });\n  if (res.data.match) {\n    dispatch({\n      type: \"SHOW_MATCH\",\n      payload: res.data.user\n    });\n  }\n};\nexport const skipUser = id => async (dispatch, getState) => {\n  const token = getState().auth.token;\n  await axios.post(`${API}/${id}/skip`, {}, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  dispatch({\n    type: \"REMOVE_USER\",\n    payload: id\n  });\n};\nexport const fetchMatches = () => async (dispatch, getState) => {\n  const token = getState().auth.token;\n  const res = await axios.get(`${API}/matches`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  dispatch({\n    type: \"SET_MATCHES\",\n    payload: res.data\n  });\n};\nexport const updateProfile = data => async (dispatch, getState) => {\n  const token = getState().auth.token;\n  await axios.put(`${API}/profile`, data, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const uploadPhoto = photo => async (dispatch, getState) => {\n  const token = getState().auth.token;\n  await axios.post(`${API}/photo`, {\n    photo\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};","map":{"version":3,"names":["axios","API","process","env","REACT_APP_API_URL","fetchFeed","dispatch","getState","type","token","auth","res","get","headers","Authorization","payload","data","likeUser","id","post","match","user","skipUser","fetchMatches","updateProfile","put","uploadPhoto","photo"],"sources":["C:/react-projects/dating_site_app/frontend/src/redux/actions/usersActions.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = `${process.env.REACT_APP_API_URL}/users`;\r\n\r\nexport const fetchFeed = () => async (dispatch, getState) => {\r\n  dispatch({ type: \"USERS_LOADING\" });\r\n\r\n  const token = getState().auth.token;\r\n\r\n  const res = await axios.get(API, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  dispatch({ type: \"SET_FEED\", payload: res.data });\r\n};\r\n\r\nexport const likeUser = (id) => async (dispatch, getState) => {\r\n  const token = getState().auth.token;\r\n\r\n  const res = await axios.post(\r\n    `${API}/${id}/like`,\r\n    {},\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n\r\n  dispatch({ type: \"REMOVE_USER\", payload: id });\r\n\r\n  if (res.data.match) {\r\n    dispatch({\r\n      type: \"SHOW_MATCH\",\r\n      payload: res.data.user,\r\n    });\r\n  }\r\n};\r\n\r\nexport const skipUser = (id) => async (dispatch, getState) => {\r\n  const token = getState().auth.token;\r\n\r\n  await axios.post(\r\n    `${API}/${id}/skip`,\r\n    {},\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n\r\n  dispatch({ type: \"REMOVE_USER\", payload: id });\r\n};\r\n\r\nexport const fetchMatches = () => async (dispatch, getState) => {\r\n  const token = getState().auth.token;\r\n\r\n  const res = await axios.get(`${API}/matches`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  dispatch({ type: \"SET_MATCHES\", payload: res.data });\r\n};\r\n\r\nexport const updateProfile = (data) => async (dispatch, getState) => {\r\n  const token = getState().auth.token;\r\n\r\n  await axios.put(`${API}/profile`, data, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n};\r\n\r\nexport const uploadPhoto = (photo) => async (dispatch, getState) => {\r\n  const token = getState().auth.token;\r\n\r\n  await axios.post(\r\n    `${API}/photo`,\r\n    { photo },\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}